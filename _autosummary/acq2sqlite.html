<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>acq2sqlite &#8212; mrrc-hdr-qa  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="change_header" href="change_header.html" />
    <link rel="prev" title="dcmmeta2tsv" href="dcmmeta2tsv.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-acq2sqlite">
<span id="acq2sqlite"></span><h1>acq2sqlite<a class="headerlink" href="#module-acq2sqlite" title="Link to this heading">¶</a></h1>
<p>Convert <code class="docutils literal notranslate"><span class="pre">db.txt</span></code> into a sqlite database.</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#acq2sqlite.column_names" title="acq2sqlite.column_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">column_names</span></code></a>()</p></td>
<td><p>These names match what's used by dcmmeta2tsv.py and 00_build_db.bash CSA first, normal dicom headers, and then filename.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">have_pipe_data</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#acq2sqlite.none_to_null" title="acq2sqlite.none_to_null"><code class="xref py py-obj docutils literal notranslate"><span class="pre">none_to_null</span></code></a>(row)</p></td>
<td><p>Template should match get_header.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#acq2sqlite.DBQuery" title="acq2sqlite.DBQuery"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DBQuery</span></code></a>([sql])</p></td>
<td><p>Convenient SQL queries for tracking dicom headers/metadata.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">acq2sqlite.</span></span><span class="sig-name descname"><span class="pre">DBQuery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery" title="Link to this definition">¶</a></dt>
<dd><p>Convenient SQL queries for tracking dicom headers/metadata.</p>
<p>This class is a poorly implemented, ad-hoc/bespoke ORM for database defined in <code class="docutils literal notranslate"><span class="pre">schema.sql</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.CONSTS">
<span class="sig-name descname"><span class="pre">CONSTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['Project',</span> <span class="pre">'SequenceName',</span> <span class="pre">'iPAT',</span> <span class="pre">'Comments',</span> <span class="pre">'SequenceType',</span> <span class="pre">'PED_major',</span> <span class="pre">'Phase',</span> <span class="pre">'TR',</span> <span class="pre">'TE',</span> <span class="pre">'Matrix',</span> <span class="pre">'PixelResol',</span> <span class="pre">'BWP',</span> <span class="pre">'BWPPE',</span> <span class="pre">'FA',</span> <span class="pre">'TA',</span> <span class="pre">'FoV']</span></em><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.CONSTS" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#acq2sqlite.DBQuery.CONSTS" title="acq2sqlite.DBQuery.CONSTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">CONSTS</span></code></a> is a list of expected aquisition-invarient parameters.
The values of these attributes should be the same for every acquisition
sharing a <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">×</span> <span class="pre">SequenceName</span></code> pair (across all sessions of a Project).</p>
<p>We consider the acquisition to have a Quallity Assurance error
when the value of any of these parameters in a single acquisition
fails to match the template.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">TR</span></code> for task EPI acquisition identified by
<code class="docutils literal notranslate"><span class="pre">SequenceName=RewardedAnti</span></code> in <code class="docutils literal notranslate"><span class="pre">Project=WPC-8620</span></code>
should always be <code class="docutils literal notranslate"><span class="pre">1300</span></code> ms.</p>
<img alt="../_images/nonconforming_example.png" src="../_images/nonconforming_example.png" />
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.check_acq">
<span class="sig-name descname"><span class="pre">check_acq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.check_acq" title="Link to this definition">¶</a></dt>
<dd><p>Is this exact acquisition (time, id, series) already in the database?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – All parameters of an acquisition</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True/False if dict params exist</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.dict_to_db_row">
<span class="sig-name descname"><span class="pre">dict_to_db_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.dict_to_db_row" title="Link to this definition">¶</a></dt>
<dd><p>insert a dicom header (representative of acquisition) into db
:param d: a single acquisition to add to DB
:return: True if added or already exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.find_acquisitions_since">
<span class="sig-name descname"><span class="pre">find_acquisitions_since</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">since_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.find_acquisitions_since" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve all acquisitions with AcqDate greater than the specified date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>since_date</strong> (<em>str</em><em> | </em><em>None</em>) – Date string in ‘YYYY-MM-DD’ format; defaults to yesterday if None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of acquisition rows with AcqDate &gt; since_date.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.get_template">
<span class="sig-name descname"><span class="pre">get_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seqname</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.get_template" title="Link to this definition">¶</a></dt>
<dd><p>Find the template from <code class="docutils literal notranslate"><span class="pre">template_by_count</span></code>. See <code class="docutils literal notranslate"><span class="pre">make_template_by_count.sql</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pname</strong> (<em>str</em>) – protocol name</p></li>
<li><p><strong>sqname</strong> – sequence name</p></li>
<li><p><strong>seqname</strong> (<em>str</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>template row matching prot+seq name pair</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Row</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.is_template">
<span class="sig-name descname"><span class="pre">is_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_id</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.is_template" title="Link to this definition">¶</a></dt>
<dd><p>Check if param id is the ideal template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_id</strong> (<em>int</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.most_recent">
<span class="sig-name descname"><span class="pre">most_recent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.most_recent" title="Link to this definition">¶</a></dt>
<dd><p>Find a projects most recent scan in the database
:param project: project name. default to all via wildcard <code class="docutils literal notranslate"><span class="pre">%</span></code>
:return: timestamp string of most recent seen scan</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>project</strong> (<em>str</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Row</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.param_rowid">
<span class="sig-name descname"><span class="pre">param_rowid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.param_rowid" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – dicom headers</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">acq_param</span></code> (new or existing) rowid identifying unique set of <a class="reference internal" href="#acq2sqlite.DBQuery.CONSTS" title="acq2sqlite.DBQuery.CONSTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">CONSTS</span></code></a></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int | None</p>
</dd>
</dl>
<p>Find or insert the combination of parameters for an acquisition.
Using <a class="reference internal" href="#acq2sqlite.DBQuery.CONSTS" title="acq2sqlite.DBQuery.CONSTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">CONSTS</span></code></a>, the header parameters that should be invariant
across acquisitions of the same name within a study.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DBQuery</span><span class="p">(</span><span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;:memory:&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;schema.sql&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="n">_</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)]</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># db.sql.execute(&quot;.read schema.sql&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">db</span><span class="o">.</span><span class="n">CONSTS</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">param_rowid</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">param_rowid</span><span class="p">(</span><span class="n">example</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">param_rowid</span><span class="p">({</span><span class="o">**</span><span class="n">example</span><span class="p">,</span> <span class="s1">&#39;Project&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">})</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">param_rowid</span><span class="p">({}))</span>
<span class="go">&#39;None&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.search_acq_param">
<span class="sig-name descname"><span class="pre">search_acq_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.search_acq_param" title="Link to this definition">¶</a></dt>
<dd><p>Try to find <code class="docutils literal notranslate"><span class="pre">aca_param</span></code> row id of <a class="reference internal" href="#acq2sqlite.DBQuery.CONSTS" title="acq2sqlite.DBQuery.CONSTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">CONSTS</span></code></a> part of input d</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – dictionary of tag values (keys in CONSTS)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>rowid of matching (<code class="docutils literal notranslate"><span class="pre">param_id</span></code>) or None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="acq2sqlite.DBQuery.tsv_to_dict">
<span class="sig-name descname"><span class="pre">tsv_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.DBQuery.tsv_to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Read a tsv line into dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>line</strong> (<em>str</em>) – tab separated string. likely line from <code class="docutils literal notranslate"><span class="pre">dcmmeta2tsv.py</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary with taglist.txt names and acquisition values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, str]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="acq2sqlite.column_names">
<span class="sig-prename descclassname"><span class="pre">acq2sqlite.</span></span><span class="sig-name descname"><span class="pre">column_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.column_names" title="Link to this definition">¶</a></dt>
<dd><p>These names match what’s used by dcmmeta2tsv.py and 00_build_db.bash
CSA first, normal dicom headers, and then filename.</p>
<p>Defaults to reading from <code class="docutils literal notranslate"><span class="pre">taglist.txt</span></code>
This provides a language agnostic lookup for columns in <code class="docutils literal notranslate"><span class="pre">schema.sql</span></code></p>
<p>These column names should match what is output by
<code class="docutils literal notranslate"><span class="pre">./dcmmeta2tsv.bash</span></code> or <code class="docutils literal notranslate"><span class="pre">./dcmmeta2tsv.py</span></code></p>
<p>Also see <a class="reference internal" href="dcmmeta2tsv.html#dcmmeta2tsv.read_known_tags" title="dcmmeta2tsv.read_known_tags"><code class="xref py py-func docutils literal notranslate"><span class="pre">dcmmeta2tsv.read_known_tags()</span></code></a></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cn</span> <span class="o">=</span> <span class="n">column_names</span><span class="p">()</span> <span class="c1"># reads taglist.txt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># hard coded here</span>
<span class="go">&#39;Phase&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cn</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># from taglist.xt</span>
<span class="go">&#39;AcqDate&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="acq2sqlite.none_to_null">
<span class="sig-prename descclassname"><span class="pre">acq2sqlite.</span></span><span class="sig-name descname"><span class="pre">none_to_null</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NPACore/mrrc-hdr-qa/blob/main/acq2sqlite.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#acq2sqlite.none_to_null" title="Link to this definition">¶</a></dt>
<dd><p>Template should match get_header. This changes all <code class="docutils literal notranslate"><span class="pre">None``s</span> <span class="pre">to</span> <span class="pre">``&quot;null&quot;</span></code>
:param row: single row from a sqlite query (likely <code class="xref py py-func docutils literal notranslate"><span class="pre">get_template()</span></code>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>row</strong> (<em>Row</em><em> | </em><em>None</em>)</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">mrrc-hdr-qa</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mrqart.html">mrqart</a></li>
<li class="toctree-l1"><a class="reference internal" href="dcmmeta2tsv.html">dcmmeta2tsv</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">acq2sqlite</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#acq2sqlite.DBQuery"><code class="docutils literal notranslate"><span class="pre">DBQuery</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.CONSTS"><code class="docutils literal notranslate"><span class="pre">DBQuery.CONSTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.check_acq"><code class="docutils literal notranslate"><span class="pre">DBQuery.check_acq()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.dict_to_db_row"><code class="docutils literal notranslate"><span class="pre">DBQuery.dict_to_db_row()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.find_acquisitions_since"><code class="docutils literal notranslate"><span class="pre">DBQuery.find_acquisitions_since()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.get_template"><code class="docutils literal notranslate"><span class="pre">DBQuery.get_template()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.is_template"><code class="docutils literal notranslate"><span class="pre">DBQuery.is_template()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.most_recent"><code class="docutils literal notranslate"><span class="pre">DBQuery.most_recent()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.param_rowid"><code class="docutils literal notranslate"><span class="pre">DBQuery.param_rowid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.search_acq_param"><code class="docutils literal notranslate"><span class="pre">DBQuery.search_acq_param()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#acq2sqlite.DBQuery.tsv_to_dict"><code class="docutils literal notranslate"><span class="pre">DBQuery.tsv_to_dict()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#acq2sqlite.column_names"><code class="docutils literal notranslate"><span class="pre">column_names()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#acq2sqlite.none_to_null"><code class="docutils literal notranslate"><span class="pre">none_to_null()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="change_header.html">change_header</a></li>
<li class="toctree-l1"><a class="reference internal" href="template_checker.html">template_checker</a></li>
<li class="toctree-l1"><a class="reference internal" href="compliance_check_html.html">compliance_check_html</a></li>
<li class="toctree-l1"><a class="reference internal" href="mrrc_dbupdate.html">mrrc_dbupdate</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="dcmmeta2tsv.html" title="previous chapter">dcmmeta2tsv</a></li>
      <li>Next: <a href="change_header.html" title="next chapter">change_header</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, EH, WF.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/_autosummary/acq2sqlite.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>